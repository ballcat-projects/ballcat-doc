import{_ as a,o as n,c as s,e}from"./app-c2dc8116.js";const t="/assets/replace-strcturally-7258b717.png",p="/assets/replace-strcturally-filter-3d121824.png",o="data:image/png;base64,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",c="/assets/replace-strcturally-qo-87b4190b.png",l={},i=e(`<h1 id="swagger2-x-升级-openapi3-x-不完全指南" tabindex="-1"><a class="header-anchor" href="#swagger2-x-升级-openapi3-x-不完全指南" aria-hidden="true">#</a> Swagger2.x 升级 OpenApi3.x 不完全指南</h1><p>OpenApi 3 其实就是 Swagger2 的升级版。</p><p>swagger 在捐献给 Linux 基金会后，就更名为 <strong>OpenAPI Spec (OAS)</strong></p><p>并在 2017 年的时候发布了新的 <code>OpenApi 3.0</code> 规范。</p><p>此文档用于将 java 应用程序从 swagger2.x 迁移到 openApi3 规范支持。</p><h2 id="_1-升级-swagger-相关依赖" tabindex="-1"><a class="header-anchor" href="#_1-升级-swagger-相关依赖" aria-hidden="true">#</a> 1. 升级 swagger 相关依赖</h2><p>原依赖：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.swagger<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>swagger-annotations<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.swagger<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>swagger-models<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>替换为：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.swagger.core.v3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>swagger-annotations<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.swagger.core.v3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>swagger-models<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>openApi 相关注释或者实体的的包，均是以 <code>io.swagger.v3.oas</code> 开头的，注意不要引用错误。</p></blockquote><h2 id="_2-注解替换" tabindex="-1"><a class="header-anchor" href="#_2-注解替换" aria-hidden="true">#</a> 2. 注解替换</h2><p><strong>注意：这里只列了一些最基本的注解和属性，实际替换需求，请根据自己项目使用情况调整</strong></p><h3 id="_2-1-替换-apioperation-operation" tabindex="-1"><a class="header-anchor" href="#_2-1-替换-apioperation-operation" aria-hidden="true">#</a> 2.1 替换 @ApiOperation =&gt; @Operation</h3><ul><li><p>Idea 全局替换包引入（windows 快捷键 <code>Ctrl + Shift + R</code>）:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiOperation</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Operation</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>idea 结构替换：</p><p><strong>由于结构替换后，注解的属性将不会保留其他的，所以要先替换同时拥有 value 和 notes 属性的注解，再替换有 value 属性的注解。如果你的项目中，<code>@ApiOperation </code> 注解中拥有更多的属性，请自己按这个逻辑梳理替换顺序。</strong></p><p>结构替换：edit =&gt; find =&gt; replace structurally</p><img src="`+t+`" alt="replace-strcturally" style="zoom:80%;"><p>再弹窗框中，输入你的搜索模板，以及替换模板，并对模板的条件设置一些规则：</p><p>search template:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> $value$<span class="token punctuation">,</span> notes <span class="token operator">=</span> $notes$<span class="token punctuation">)</span>
$<span class="token class-name">MethodType</span>$ $<span class="token class-name">Method</span>$<span class="token punctuation">(</span>$<span class="token class-name">ParameterType</span>$ $<span class="token class-name">Parameter</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>replace template:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Operation</span><span class="token punctuation">(</span>summary <span class="token operator">=</span> $value$<span class="token punctuation">,</span> description <span class="token operator">=</span> $notes$<span class="token punctuation">)</span>
$<span class="token class-name">MethodType</span>$ $<span class="token class-name">Method</span>$<span class="token punctuation">(</span>$<span class="token class-name">ParameterType</span>$ $<span class="token class-name">Parameter</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div> <img src="`+p+'" alt="replace-strcturally-filter" style="zoom:80%;"><p><strong>这里的 $Parameter$ 添加 filter，count =&gt; [0, 无穷大]，表示匹配任意数量入参的方法</strong></p><p><img src="'+o+`" alt="replace-strcturally-options"></p><p>注意，这两个选项需要勾选，表示使用短的全类名，和使用静态 import 包。</p><p>如果不勾选的话，替换完后注解将会变成，<code>@io.swagger.v3.oas.annotations.Operation</code> 的全类名形式。</p></li><li><p>替换完成后，继续替换只有 value 属性的 <code>@ApiOperation</code>：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> $value$<span class="token punctuation">)</span>
$<span class="token class-name">MethodType</span>$ $<span class="token class-name">Method</span>$<span class="token punctuation">(</span>$<span class="token class-name">ParameterType</span>$ $<span class="token class-name">Parameter</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Operation</span><span class="token punctuation">(</span>summary <span class="token operator">=</span> $value$<span class="token punctuation">)</span>
$<span class="token class-name">MethodType</span>$ $<span class="token class-name">Method</span>$<span class="token punctuation">(</span>$<span class="token class-name">ParameterType</span>$ $<span class="token class-name">Parameter</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_2-2-替换-api-tag" tabindex="-1"><a class="header-anchor" href="#_2-2-替换-api-tag" aria-hidden="true">#</a> 2.2 替换 @Api =&gt; @Tag</h3><ul><li><p>Idea 全局替换包引入：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Api</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span>tags<span class="token punctuation">.</span></span><span class="token class-name">Tag</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>Idea 结构替换：</p><blockquote><p>注意这里，替换后，将只剩下 name 属性，如果你的项目中 @Api 注解上使用了更多的属性，请参考 2.1 节的方法，以由多到少的顺序逐个替换</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Api</span><span class="token punctuation">(</span>tags<span class="token operator">=</span> $tag$<span class="token punctuation">)</span>
<span class="token keyword">class</span> $<span class="token class-name">Class</span>$ <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Tag</span><span class="token punctuation">(</span>name <span class="token operator">=</span> $tag$<span class="token punctuation">)</span>
<span class="token keyword">class</span> $<span class="token class-name">Class</span>$ <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_2-3-替换-apimodel-schema" tabindex="-1"><a class="header-anchor" href="#_2-3-替换-apimodel-schema" aria-hidden="true">#</a> 2.3 替换 @ApiModel =&gt; @Schema</h3><ul><li><p>Idea 全局替换包引入</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 原包名</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiModel</span></span><span class="token punctuation">;</span>	
<span class="token comment">// 替换为</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span>media<span class="token punctuation">.</span></span><span class="token class-name">Schema</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 原包名</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiModelProperty</span></span><span class="token punctuation">;</span>
<span class="token comment">// 替换为，这里可能会有导包重复，格式化全局处理下就好</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span>media<span class="token punctuation">.</span></span><span class="token class-name">Schema</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Idea 结构替换</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>value <span class="token operator">=</span> $value$<span class="token punctuation">)</span>
<span class="token keyword">class</span> $<span class="token class-name">Class</span>$ <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>title <span class="token operator">=</span> $value$<span class="token punctuation">)</span>
<span class="token keyword">class</span> $<span class="token class-name">Class</span>$ <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> $value$<span class="token punctuation">)</span>
$<span class="token class-name">FieldType</span>$ $<span class="token class-name">Field</span>$ <span class="token operator">=</span> $<span class="token class-name">Init</span>$<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>title <span class="token operator">=</span> $value$<span class="token punctuation">)</span>
$<span class="token class-name">FieldType</span>$ $<span class="token class-name">Field</span>$ <span class="token operator">=</span> $<span class="token class-name">Init</span>$<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="给-qo-添加-parameterobject-注解" tabindex="-1"><a class="header-anchor" href="#给-qo-添加-parameterobject-注解" aria-hidden="true">#</a> 给 QO 添加 @ParameterObject 注解</h3><p>ballcat 中，分页查询的参数均封装在以 QO 结尾的对象中，<code>@ParameterObject</code> 注解，用于扁平化 <code>GetMapping</code> 中的入参，否则 swagger-ui 中显示的会是 json 形式参数。</p><p><img src="`+c+`" alt="replace-strcturally-qo"></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> $<span class="token class-name">Class</span>$ <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@org.springdoc.api.annotations.ParameterObject</span>
<span class="token keyword">class</span> $<span class="token class-name">Class</span>$ <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>filter 规则如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Text</span> <span class="token operator">=</span> <span class="token punctuation">.</span>*<span class="token constant">QO</span>$
<span class="token class-name">Script</span> <span class="token operator">=</span> <span class="token operator">!</span>__context__<span class="token punctuation">.</span><span class="token keyword">interface</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>__context__<span class="token punctuation">.</span><span class="token keyword">enum</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>__context__<span class="token punctuation">.</span><span class="token keyword">record</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-更多替换" tabindex="-1"><a class="header-anchor" href="#_3-更多替换" aria-hidden="true">#</a> 3. 更多替换</h2><p>上面并没有列出所有的注解替换规则，且由于官方 wiki 一直没有更新，暂时只能参看 springdoc 的文档：https://springdoc.org/#migrating-from-springfox，了解注解替换规则。</p><p>也欢迎大家在替换过程中发现一些问题或者注意的点，来提交 PR，完善此文档。</p><p>用 swagger 3 注释替换 swagger 2 注释（它已经包含在<code>springdoc-openapi-ui</code>依赖项中）。swagger 3 注释的包是<code>io.swagger.v3.oas.annotations</code>.</p><ul><li><code>@Api</code> → <code>@Tag</code></li><li><code>@ApiIgnore</code>→<code>@Parameter(hidden = true)</code>或<code>@Operation(hidden = true)</code>或<code>@Hidden</code></li><li><code>@ApiImplicitParam</code> → <code>@Parameter</code></li><li><code>@ApiImplicitParams</code> → <code>@Parameters</code></li><li><code>@ApiModel</code> → <code>@Schema</code></li><li><code>@ApiModelProperty(hidden = true)</code> → <code>@Schema(accessMode = READ_ONLY)</code></li><li><code>@ApiModelProperty</code> → <code>@Schema</code></li><li><code>@ApiOperation(value = &quot;foo&quot;, notes = &quot;bar&quot;)</code> → <code>@Operation(summary = &quot;foo&quot;, description = &quot;bar&quot;)</code></li><li><code>@ApiParam</code> → <code>@Parameter</code></li><li><code>@ApiResponse(code = 404, message = &quot;foo&quot;)</code> → <code>@ApiResponse(responseCode = &quot;404&quot;, description = &quot;foo&quot;)</code></li></ul>`,31),u=[i];function d(r,k){return n(),s("div",null,u)}const g=a(l,[["render",d],["__file","swagger2ToOpenApi3.html.vue"]]);export{g as default};
