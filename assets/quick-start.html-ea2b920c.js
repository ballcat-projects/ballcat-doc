import{_ as p,r as l,o,c,a as s,b as n,d as e,e as t}from"./app-c2dc8116.js";const i={},r=t('<h1 id="快速搭建" tabindex="-1"><a class="header-anchor" href="#快速搭建" aria-hidden="true">#</a> 快速搭建</h1><p>跟随本文可以使用 ballcat 快速搭建一套单体的后台管理系统</p><h2 id="环境准备" tabindex="-1"><a class="header-anchor" href="#环境准备" aria-hidden="true">#</a> 环境准备</h2><p>开始之前，请先确保您已经配置好以下环境</p><table><thead><tr><th>名称</th><th>版本</th></tr></thead><tbody><tr><td>JDK</td><td>1.8</td></tr><tr><td>MySQL</td><td>8.x</td></tr><tr><td>Redis</td><td>3.2 +</td></tr><tr><td>node</td><td>16 +</td></tr></tbody></table><blockquote><p>5.7.x 系列 mysql，需要开启 timestamp 类型默认值为 null 的支持</p></blockquote>',6),d=s("code",null,"Lombok",-1),u={href:"https://projectlombok.org/",target:"_blank",rel:"noopener noreferrer"},k=t(`<blockquote><p>最新版本的 Idea 中已经自带了 Lombok 插件</p></blockquote><h2 id="数据库配置" tabindex="-1"><a class="header-anchor" href="#数据库配置" aria-hidden="true">#</a> 数据库配置</h2><p>版本： mysql5.7.8+<br> 默认字符集：utf8mb4<br> 默认排序规则：utf8mb4_general_ci</p><ul><li>按下面顺序依次执行 ballcat/doc 目录下的数据库脚本</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 建库语句</span>
scheme<span class="token punctuation">.</span><span class="token keyword">sql</span>   
<span class="token comment"># 核心库</span>
ballcat<span class="token punctuation">.</span><span class="token keyword">sql</span>  

<span class="token comment"># 国际化相关 SQL, 无需国际化功能则不用执行此处代码</span>
ballcat<span class="token operator">-</span>i18n<span class="token punctuation">.</span><span class="token keyword">sql</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>默认 oauth2_registered_client 脚本中有一个 test client，该 client 只能用于开发及测试环境，其登陆时会跳过图形验证码以及密码解密过程，生产环境请删除该client</strong></p><blockquote><p>注意： ballcat/doc/update_sql 下的是各个版本升级的增量 sql，初次搭建时无需执行。<br> 当跟随 ballcat 做版本升级时，如从 0.5.0 版本升级到 0.6.0 版本时，需执行 update_sql 文件夹下的 0.6.0.sql</p></blockquote><h2 id="配置本地hosts" tabindex="-1"><a class="header-anchor" href="#配置本地hosts" aria-hidden="true">#</a> 配置本地hosts</h2><p>建议使用 switchHost 软件管理hosts配置!</p><p>也可直接修改本地host文件:<br> windows系统下host文件位于 <code>C:\\Windows\\System32\\drivers\\etc\\hosts</code></p><p><strong>新增如下host:</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>127.0.0.1 ballcat-mysql
127.0.0.1 ballcat-redis
127.0.0.1 ballcat-job
127.0.0.1 ballcat-admin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中 <code>127.0.0.1</code> 按需替换成开发环境ip</p><h2 id="服务端准备" tabindex="-1"><a class="header-anchor" href="#服务端准备" aria-hidden="true">#</a> 服务端准备</h2><h3 id="基于模板仓库开发" tabindex="-1"><a class="header-anchor" href="#基于模板仓库开发" aria-hidden="true">#</a> 基于模板仓库开发</h3><p><strong>直接下载模板仓库代码，在模板仓库代码基础上进行业务开发</strong></p><p><strong>ballcat-boot</strong> 是一个比较干净的模板仓库，比较适合拿来二开</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/ballcat-projects/ballcat-boot.git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>下载完代码，直接运行 <code>AdminApplication</code> 即可。</p><p><strong>ballcat-samples</strong> 是一个功能使用示例仓库，里面提供了其他功能的演示以及一些测试的代码</p><p>比如默认提供了一个基于部门的数据权限使用示例，国际化的使用集成等，适合学习使用：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/ballcat-projects/ballcat-samples.git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="使用快照版本" tabindex="-1"><a class="header-anchor" href="#使用快照版本" aria-hidden="true">#</a> 使用快照版本</h3><p>在正式版本发布前，BallCat 会先推出快照 SNAPSHOT 版本，如果想尝鲜使用快照版本的话需要添加 oss 的快照仓库，否则无法拉取到对应版本的依赖</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- oss 快照私服 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>oss-snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://oss.sonatype.org/content/repositories/snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>releases</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>releases</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>updatePolicy</span><span class="token punctuation">&gt;</span></span>always<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>updatePolicy</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>如果配置私服后依然无法正常下载，请检查是否配置了镜像仓库。<br> 镜像仓库中的 mirrorOf 属性请排除掉 oss-snapshots，或者直接修改为 central</p></blockquote><h2 id="前端准备" tabindex="-1"><a class="header-anchor" href="#前端准备" aria-hidden="true">#</a> 前端准备</h2><h3 id="代码构建" tabindex="-1"><a class="header-anchor" href="#代码构建" aria-hidden="true">#</a> 代码构建</h3><p>按需下载对应版本的前端代码</p><table><thead><tr><th>项目</th><th>简介</th><th>gitee 地址</th><th>github 地址</th></tr></thead><tbody><tr><td>ballcat-ui-vue</td><td>管理后台前端 vue2 版本 (不推荐)</td><td>https://gitee.com/ballcat-projects/ballcat-ui-vue</td><td>https://github.com/ballcat-projects/ballcat-ui-vue</td></tr><tr><td>ballcat-admin-ui-vue3</td><td>管理后台前端 vue3 版本</td><td>https://gitee.com/ballcat-projects/ballcat-admin-ui-vue3</td><td>https://github.com/ballcat-projects/ballcat-admin-ui-vue3</td></tr><tr><td>ballcat-ui-react</td><td>管理后台前端 react 版本</td><td>https://gitee.com/ballcat-projects/ballcat-ui-react</td><td>https://github.com/ballcat-projects/ballcat-ui-react</td></tr></tbody></table><blockquote><p>vue 团队官宣 vue2 将于 2023年12月31日 停止维护，所以现在新项目建议使用 vue3 或者 react 版本前端</p></blockquote><h3 id="依赖安装" tabindex="-1"><a class="header-anchor" href="#依赖安装" aria-hidden="true">#</a> 依赖安装</h3><p><strong>vue2 和 react 安装项目依赖，使用 yarn 或 npm 都可以</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 安装依赖</span>
<span class="token function">yarn</span> <span class="token function">install</span>
----- 或者 --------
<span class="token comment"># 安装依赖</span>
<span class="token function">npm</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>vue3 必须使用 pnpm 进行安装</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果没有安装过 pnpm 请先执行 <code>npm install -g pnpm</code></p><h3 id="配置修改" tabindex="-1"><a class="header-anchor" href="#配置修改" aria-hidden="true">#</a> 配置修改</h3><p>可按需修改 <code>src/config/projectConfig.js</code> 配置文件中的项目标题描述等</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 项目标题</span>
  <span class="token literal-property property">projectTitle</span><span class="token operator">:</span> <span class="token string">&#39;Ball Cat&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// 项目描述</span>
  <span class="token literal-property property">projectDesc</span><span class="token operator">:</span> <span class="token string">&#39;Ball Cat 一个简单的项目启动脚手架&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// Vue ls 配置</span>
  <span class="token literal-property property">storageOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">namespace</span><span class="token operator">:</span> <span class="token string">&#39;ballcat/&#39;</span><span class="token punctuation">,</span> <span class="token comment">// key prefix</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;ls&#39;</span><span class="token punctuation">,</span> <span class="token comment">// name variable Vue.[ls] or this.[$ls],</span>
    <span class="token literal-property property">storage</span><span class="token operator">:</span> <span class="token string">&#39;local&#39;</span> <span class="token comment">// storage name session, local, memory</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token comment">// 开启 websocket，开启此选项需要服务端同步支持 websocket 功能</span>
  <span class="token comment">// 若服务端不支持，则本地启动时，抛出 socket 异常，导致 proxyServer 关闭</span>
  <span class="token literal-property property">enableWebsocket</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

  <span class="token comment">// ------------- 国际化配置分隔符 -----------------</span>

  <span class="token comment">// 是否开启国际化</span>
  <span class="token literal-property property">enableI18n</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// 项目默认语言</span>
  <span class="token literal-property property">defaultLanguage</span><span class="token operator">:</span> <span class="token string">&#39;zh-CN&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// 支持的语言列表</span>
  <span class="token literal-property property">supportLanguage</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;zh-CN&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">&#39;zh-CN&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;简体中文&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">symbol</span><span class="token operator">:</span> <span class="token string">&#39;🇨🇳&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;en-US&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">&#39;en-US&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;English&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">symbol</span><span class="token operator">:</span> <span class="token string">&#39;🇺🇸&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
  <span class="token comment">// icon 使用 iconFont 方式引用，此处为对应配置</span>
  <span class="token literal-property property">iconFontUrl</span><span class="token operator">:</span> <span class="token string">&#39;//at.alicdn.com/t/font_2663734_ac285tyx19.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">iconPrefix</span><span class="token operator">:</span> <span class="token string">&#39;ballcat-icon-&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注意：enableWebsocket 需要服务端同步开启 websocket 支持，否则前端项目启动后将会闪退</p></blockquote><p><code>vue.config.js</code> 中的 serverAddress 是服务端的接口地址，可按需修改</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> serverAddress <span class="token operator">=</span> <span class="token string">&#39;http://ballcat-admin:8080&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="开启-websocket" tabindex="-1"><a class="header-anchor" href="#开启-websocket" aria-hidden="true">#</a> 开启 websocket</h2><p>ballcat 在修改字典和公告时会通过 websocket 进行发送通知，以便前端实时感知，否则只有在用户重新登录时才会去变更这些信息。</p><p>服务端添加依赖：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token comment">&lt;!-- websocket 相关 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.hccake<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>ballcat-admin-websocket<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>前端配置修改：</p><p><code>src/config/projectConfig.js</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code> <span class="token comment">// 开启 websocket，开启此选项需要服务端同步支持 websocket 功能</span>
 <span class="token literal-property property">enableWebsocket</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="开启国际化" tabindex="-1"><a class="header-anchor" href="#开启国际化" aria-hidden="true">#</a> 开启国际化</h2><blockquote><p>服务端的默认国际化依赖数据库，注意需要先执行 ballcat-i18n.sql 文件中的相关 sql</p></blockquote><ol><li>服务端添加依赖：</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token comment">&lt;!-- 国际化 相关 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.hccake<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>ballcat-admin-i18n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>且国际化需要服务端添加以下配置信息：</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code> <span class="token key atrule">spring</span><span class="token punctuation">:</span>
     <span class="token key atrule">messages</span><span class="token punctuation">:</span>
        <span class="token key atrule">basename</span><span class="token punctuation">:</span> <span class="token string">&quot;ballcat-*, org.springframework.security.messages&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>前端配置修改：</li></ol><p><code>src/config/projectConfig.js</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code> <span class="token comment">// 开启 国际化</span>
 <span class="token literal-property property">enableI18n</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="启动项目" tabindex="-1"><a class="header-anchor" href="#启动项目" aria-hidden="true">#</a> 启动项目</h2><ul><li>后端</li></ul><p>直接在开发工具中启动 SpringBoot 的启动类即可，如果需要命令行或者 jar 包启动，请自行查阅 spring-boot的 多种启动方式</p><ul><li>前端</li></ul><p>打开命令行进入项目根目录，或 在 ide 提供的命令行工具中执行</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 启动服务</span>
<span class="token function">yarn</span> serve
----- 或者 -----
<span class="token comment"># 启动服务</span>
<span class="token function">npm</span> run serve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="访问项目" tabindex="-1"><a class="header-anchor" href="#访问项目" aria-hidden="true">#</a> 访问项目</h2>`,66),v={href:"http://localhost:8000/",target:"_blank",rel:"noopener noreferrer"},m=s("p",null,"默认用户名密码：admin/a123456",-1);function b(g,h){const a=l("ExternalLinkIcon");return o(),c("div",null,[r,s("p",null,[s("strong",null,[n("另：请在您的开发工具中安装好 "),d,n(" 插件, lombok 的使用参看其 "),s("a",u,[n("官方文档"),e(a)])])]),k,s("p",null,[n("默认前端项目路径："),s("a",v,[n("http://localhost:8000/"),e(a)])]),m])}const f=p(i,[["render",b],["__file","quick-start.html.vue"]]);export{f as default};
